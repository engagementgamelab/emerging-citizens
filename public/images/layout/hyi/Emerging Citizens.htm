<!DOCTYPE html>
<!-- saved from url=(0044)http://localhost:3000/moderator/monitor/WGQO -->
<html lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Emerging Citizens</title>
        <meta name="description" content="A suite of digital multiplayer games that teaches students how to critique and create civic media.">
        <meta name="author" content="Engagement Lab">
        <!-- Mobile Meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="#78cbd1">


        
        <!-- DOCS START -->
        
        <!-- Favicons -->
        <link rel="shortcut icon" href="http://localhost:3000/images/favicons/favicon.ico">
        <!-- For third-generation iPad with high-resolution Retina display: -->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:3000/images/favicons/favicon_144.png">
        <!-- For iPhone with high-resolution Retina display: -->
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:3000/images/favicons/favicon_114.png">
        <!-- For first- and second-generation iPad: -->
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:3000/images/favicons/favicon_72.png">
        <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
        <link rel="apple-touch-icon-precomposed" href="http://localhost:3000/images/favicons/favicon_57.png">
        
        	
        	
        	<!-- Bootstrap core CSS -->
        	<link rel="stylesheet" href="./Emerging Citizens_files/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        
        	<link href="./Emerging Citizens_files/core.css" rel="stylesheet">
        	
        	<!-- Custom fonts -->
        	<link href="./Emerging Citizens_files/fonts.css" rel="stylesheet">
        
        	<link href="./Emerging Citizens_files/skin.css" rel="stylesheet">
        	
        	<link href="./Emerging Citizens_files/jquery-ui.min.css" rel="stylesheet">
        	<link href="./Emerging Citizens_files/round-about.css" rel="stylesheet">
        	<link href="./Emerging Citizens_files/flipclock.css" rel="stylesheet">
        
        	<!-- Font Awesome CSS -->
        	<link href="./Emerging Citizens_files/font-awesome.css" rel="stylesheet">
        
        	<!-- Fontello CSS -->
        	<link href="./Emerging Citizens_files/fontello.css" rel="stylesheet">
        
        	<link rel="stylesheet" href="./Emerging Citizens_files/glide.core.css">
        	
        	<link href="./Emerging Citizens_files/unslider-dots.css" rel="stylesheet">
        	<link href="./Emerging Citizens_files/unslider.css" rel="stylesheet">
        
        
    <script>var EXTENSION_URL = "chrome-extension://kkocmgaoibklfmejhklahodlookklfjk/";var EXTENSION_VERSION = "2.5.6";var EXTENSION_USER = "default";window.onerror = function (errorMsg, url, lineNumber) { };</script><style type="text/css"></style><style type="text/css"></style><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style></head>
    
    <body class="body monitor">


        <!-- page wrapper start -->
        <!-- ================ -->
        <div class="page-wrapper">
            
            <!--
                Flash messages allow you to display once-off status messages to users, e.g. form
                validation errors, success messages, etc
            -->
                        

            <!-- page-wrapper end -->
                
                <script type="text/javascript" src="./Emerging Citizens_files/jquery-2.1.4.js"></script>
                <script type="text/javascript" src="./Emerging Citizens_files/jquery.plugin.js"></script>
                <script type="text/javascript" src="./Emerging Citizens_files/bootstrap.min.js"></script>
                
                <script type="text/javascript" src="./Emerging Citizens_files/jquery-ui.min.js"></script>
                <script type="text/javascript" src="./Emerging Citizens_files/underscore.js"></script>
                <script type="text/javascript" src="./Emerging Citizens_files/flipclock.min.js"></script>
                
                <script src="./Emerging Citizens_files/TweenMax.min.js"></script>
                
                <script type="text/javascript" src="./Emerging Citizens_files/jquery.browser.js"></script>
                <script type="text/javascript" src="./Emerging Citizens_files/SmoothScroll.js"></script>
                
                <script type="text/javascript" src="./Emerging Citizens_files/socket.io.js"></script>
                
                <script type="text/javascript" src="./Emerging Citizens_files/ion.sound.js"></script>
                
                
                
                
                <script type="text/javascript">
                	
                	var socket;
                  var gameCode;
                  var timeline = new TimelineLite();
                
                	// For socket debugging
                	localStorage.debug = '*';
                
                	ion.sound({
                    sounds: [
                        {
                            name: "button_tiny"
                        }
                    ],
                    volume: 0.5,
                    path: "/sfx/",
                    preload: true,
                    ready_callback: function(obj) { console.log('sounds ready', obj); }
                	});
                
                  // All possible socket event IDs
                	var eventIds = [
                
                		'connect',
                		'player:id',
                		'players:update',
                
                		'game:start',
                		'game:ending',
                		'game:end',
                		'game:resumed',
                		'game:notfound',
                		'game:countdown',
                		'game:countdown_ending',
                		'game:countdown_end',
                		'game:round_over',
                		
                		'hashtag:submitted',
                		'hashtags:received',
                		'hashtags:reveal'
                	
                	];
                
                	function updateUrl(url) {
                   
                    if (typeof(window.history.pushState) !== "undefined")
                      window.history.pushState(null, null, url);
                  
                  }
                				
                	function emitData(data) {
                
                		if(gameCode === undefined && typeof(data.code) !== 'undefined')
                			gameCode = data.code;
                
                		return { gameId: gameCode, msgData: data };
                	}
                
                
                
                	$(document).ready(function() {
                
                
                				/**
                				 * Listen for forms that dispatch socket events.
                				 *
                				 * ### Examples:
                				 *
                				 * @class sections
                				 */
                				$(document).on('click', '.form :submit.submit', function() {
                					
                					var event = $(this).data().event;
                					var pkg = $(this).data().package;
                
                					if($.isPlainObject(pkg)) {
                						$.each(Object.keys(pkg), function( key, value ) {
                						  pkg[value] = $(pkg[value].toString()).val();
                						});
                					}
                					else
                						pkg = $(pkg).val()
                					
                					socket.emit(event, emitData(pkg));
                
                					$('#submission').hide();
                					$('#submitted').show();
                
                				});
                
                				/* 
                				 Disallows input from octothorp (#) character for hashtag submission
                				*/
                				$(document).on('keypress', '#tweet_input', function(key) {
                
                					if(key.charCode === 35)
                						return false;
                
                				});
                				
                				/* 
                				 Logs player into game with room code and name
                				*/
                				$(document).on('click', '.btn.game_login', function() {
                
                				  $.get( 
                				  	"/game/" + $('#class_code').val(),
                						function( data ) {
                
                							if(data.error_code !== undefined) {
                
                								$('.form #class_code').addClass('invalid');
                								$('.form .error').text(data.msg).fadeIn();
                								
                								return;
                							}
                
                							gameCode = data.code;
                							$('.navbar').slideUp();
                							
                							// Open socket connection
                					    socket = io();
                					    registerEvents();
                
                							playerName = $('#player_name').val()
                
                			        // Log player in
                							socket.emit('login:submit', emitData({"username": playerName}));
                
                						}
                					);
                
                				});
                			
                					
                					// Open socket connection
                			    socket = io();
                			    registerEvents();
                				
                					gameCode = 'WGQO-moderator';
                
                					// Load events for moderators
                					
                					var socketEvents = function(eventId, eventData) {
                							
                						var currentPlayers = [];
                					    var staticPlayers = [];
                					
                					    switch (eventId) {
                					
                					        case 'connect':
                					
                									   // Connected, let's sign-up for to receive messages for this room
                									   socket.emit('room', emitData('moderator'));
                					                   
                					            break;
                					
                					        case 'players:update':
                					
                					                    staticPlayers = $('.playerStatic');
                									  	currentPlayers = _.pluck(eventData, 'username');
                									    $('#playersContent').html(currentPlayers.join('<p> joined. </p><br />'));
                					
                					
                					                    _.each(currentPlayers, function(player, index) {
                					                        $(staticPlayers[index]).addClass ('active');
                					                        $(staticPlayers[index]).html(currentPlayers[index].toString('<p> </p>'));
                					
                					                    });
                					
                					            break;
                					            
                					        case 'game:countdown':
                					
                					            /*var minutes = Math.floor(eventData / 60);
                					            var seconds = eventData - minutes * 60;*/
                					
                					            console.log('countdown' , eventData)
                					
                					            var clock = $('#countdownTimer').FlipClock(eventData, {
                					                clockFace: 'MinuteCounter',
                					                countdown: true
                					            });
                					
                					            break;
                					
                					
                					        case 'game:start':
                					
                					            
                					
                					        case 'game:end':
                					        case 'hashtag:submitted':
                					        case 'hashtags:received':
                					
                					            $('#gameContent').html(eventData);
                					
                					            break;
                					
                					        case 'hashtags:reveal':
                					
                					            $('#gameContent').html(eventData);
                					
                					            //instantiate a TimelineLite    
                					            var t1 = new TimelineLite();
                					
                					            
                					            var elements = $('.hashtag-response');
                					
                					            _.each(elements, function(el, index) {
                					
                					                t1.from(el, 1, {x:-100, autoAlpha:0})
                					                .staggerFrom($(el).find('.hashtag-vote, .no-votes'), 3, {scale:0, opacity:0, ease:Elastic.easeOut, onStart: function() {
                					
                					                        ion.sound.play("button_tiny");
                					
                					                }}, 2)
                					                .to(el, 1, {x:100, autoAlpha:0, display:'none'});
                					
                					            });
                					            t1.play();
                					            
                					            // .to($('#results-2'), 1, {y:-100, autoAlpha:0, display:'none', ease:Elastic.easeIn});
                					
                					            $('#countdownTimer').hide();
                					
                					            break;
                					
                					    }
                					    
                					};					$('.body').addClass('monitor');
                					$('.navbar').attr ('style', 'display:none;');
                          // $('.body').addClass('monitor');
                
                				function registerEvents() {
                
                					$.each(eventIds, function(index, id) {
                					  
                					  socket.on(id, function(eventData) {
                
                							console.log("EVENT ID: ", id);
                							console.log("EVENT DATA: (" + eventData + ")");
                
                						 	socketEvents(id, eventData); 
                						});
                
                					});
                
                				}
                
                
                
                		$("#template_selector").change(function() {
                			
                			var selected = $(this).find('option:selected');
                			var template = selected.val();
                			var templateData = selected.data('key');
                
                		  $.post( 
                		  	"/game/load/",
                		  	{ template_path: template, debug_key: templateData },
                				function( data ) {
                
                          $('#gameContent').html(data);
                
                				}
                			);
                
                		});
                		
                });
                
                </script>
            
        </div>

        <div id="error-box">
        </div>

        <div id="debug-info">
        </div>

        <!-- Top Navbar -->
        <nav class="navbar navbar-inverse navbar-fixed-top" style="display:none;">
          <div class="container">
          <div class="col-md-5 col-xs-4"></div>
            <img src="./Emerging Citizens_files/logo_ec.png" class="col-xs-3 col-sm-3 col-md-2">
            <div class="col-md-5"></div>
          </div>
          <div class="container">
            <div id="navbar" class="">
            <div class="col-sm-5 col-xs-3"></div>
        
              <ul class="nav navbar-nav col-lg-4 col-xs-8">
                <li><a href="http://localhost:3000/moderator/monitor/moderator.html" id="login">login</a></li>
                <li><a href="http://localhost:3000/moderator/monitor/playerInterface.html" id="about">about</a></li>
                <li><a href="http://localhost:3000/moderator/monitor/WGQO#contact" id="help">help</a></li>
              </ul>
        
              <div class="col-sm-4"></div>
            </div>
          </div>
        </nav>
        <!-- End Navbar -->
            
            <select id="template_selector" name="template_selector_player">
              <option value="">choose:</option>
              <option value="partials/moderator/waiting">waiting</option>
              <option value="partials/player/voting" data-key="voting">voting</option>
              <option value="wait">wait</option>
            </select>


        <div class="container">
              <div id="gameContent">

                <!-- BODY CONTENT START -->
                <style>
.input-box { position: relative; }
input { display: block; border: 1px solid #d7d6d6; background: #fff; padding: 10px 10px 10px 20px; width: 195px; }
.hash { position: absolute; display: block; left: 5px; top: 10px; z-index: 9; color: #47527D; }
</style>

    <!-- Page Content -->
<div class="page-container">
    <div class="row">
        <div class="col-lg-3 players">
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
        </div>
        <!-- Introduction Row -->
        <div class="col-lg-6 room-container">
            <div class="row game_code">
                <div class="col-lg-12">
                    <h1 style="font-size: 6em" class="game-header">Room Code:
                    </h1>
                    <h1 style="font-size: 8em" class="game-header">
                        <span id="first">W</span>
                        <span id="second">G</span>
                        <span id="third">Q</span>
                        <span id="fourth">O</span>
                    </h1>

                </div>
            </div>
            <div class="row">
                <div class="col-lg-12" style="margin-top: 5%;">
                    <h4 class="game-message">Waiting for players...
                    </h4>
                </div>
            </div>
            <!-- Team Members Row -->
            <div class="row" id="playersContent">
            </div>

        </div>

        <div class="col-lg-3 players">
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
            <div class="playerIcon">
                
            </div>
        </div>
        

    </div> 
</div>

              </div>
            <div id="countdownTimer"></div>
        </div><!-- /.container -->
    

<div></div></body></html>